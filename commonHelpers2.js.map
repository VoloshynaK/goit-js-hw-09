{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["import '../css/2-form.css';\nimport '../css/common.css';\nimport throttle from 'lodash.throttle';\n\n\nconst form = document.querySelector(\"form\");\nconst emailInput = document.querySelector(\"input\");\nconst msgInput = document.querySelector(\"textarea\");\n\n\nconst STORAGE_KEY = \"feedback-form-state\";\nconst formData = {\n    email: '',\n    message: '',\n}\n\nform.addEventListener(\"input\", throttle(onInput, 500));\nform.addEventListener(\"submit\", onFormSubmit)\n\npopulateTextAreas();\n\nfunction onInput(evt) {\n    formData[evt.target.name] = evt.target.value.trim();\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n}\n\nfunction onFormSubmit(evt) {\n    evt.preventDefault();\n    if (emailInput.value === \"\" || msgInput.value === \"\") {\n        window.alert(\"Please, fill up every field\");\n        return;\n    }\n    formData.email = emailInput.value.trim();\n    formData.message = msgInput.value.trim();\n    \n    console.log(formData);\n    evt.currentTarget.reset();\n    localStorage.clear();\n}\n\nfunction populateTextAreas() {\n    const savedData = JSON.parse(localStorage.getItem(STORAGE_KEY));\n    if (savedData) {\n        emailInput.value = savedData.email;\n        msgInput.value = savedData.message;\n    }\n}"],"names":["form","emailInput","msgInput","STORAGE_KEY","formData","throttle","onInput","onFormSubmit","populateTextAreas","evt","savedData"],"mappings":"wIAKA,MAAMA,EAAO,SAAS,cAAc,MAAM,EACpCC,EAAa,SAAS,cAAc,OAAO,EAC3CC,EAAW,SAAS,cAAc,UAAU,EAG5CC,EAAc,sBACdC,EAAW,CACb,MAAO,GACP,QAAS,EACb,EAEAJ,EAAK,iBAAiB,QAASK,EAASC,EAAS,GAAG,CAAC,EACrDN,EAAK,iBAAiB,SAAUO,CAAY,EAE5CC,IAEA,SAASF,EAAQG,EAAK,CAClBL,EAASK,EAAI,OAAO,IAAI,EAAIA,EAAI,OAAO,MAAM,OAC7C,aAAa,QAAQN,EAAa,KAAK,UAAUC,CAAQ,CAAC,CAC9D,CAEA,SAASG,EAAaE,EAAK,CAEvB,GADAA,EAAI,eAAc,EACdR,EAAW,QAAU,IAAMC,EAAS,QAAU,GAAI,CAClD,OAAO,MAAM,6BAA6B,EAC1C,MACH,CACDE,EAAS,MAAQH,EAAW,MAAM,KAAI,EACtCG,EAAS,QAAUF,EAAS,MAAM,KAAI,EAEtC,QAAQ,IAAIE,CAAQ,EACpBK,EAAI,cAAc,QAClB,aAAa,MAAK,CACtB,CAEA,SAASD,GAAoB,CACzB,MAAME,EAAY,KAAK,MAAM,aAAa,QAAQP,CAAW,CAAC,EAC1DO,IACAT,EAAW,MAAQS,EAAU,MAC7BR,EAAS,MAAQQ,EAAU,QAEnC"}